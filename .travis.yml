language: go
go:
  - 1.12.x
git:
  depth: 1
notifications:
  email:
    on_success: never
stages:
  - test
  - build
  - publish
jobs:
  include:
    - stage: test
      script: go test ./...
    - stage: build
      script: go build ./...
    - stage: publish
      script:
        - docker build -t ocpp-go-1.6/central-system -f example/cs/Dockerfile .
        - docker build -t ocpp-go-1.6/charge-point -f example/cp/Dockerfile .
